\documentclass[11pt]{extbook}

\usepackage{fancyvrb}
\usepackage{color}
\usepackage{graphicx}
\usepackage{fullpage}
\usepackage{verbatim}
\usepackage{tikz}
\usepackage{listings}
\usepackage[yyyymmdd,hhmmss]{datetime}
\usepackage{rotating}
\usepackage{authblk}
\usepackage{amsfonts}
\usepackage{todonotes}
\usepackage{titlesec}
\usepackage{lineno}
\usepackage{tabularx}
\usepackage{enumitem}
\usepackage{hyperref}

\setcounter{secnumdepth}{3}

\usepackage{draftwatermark}
\SetWatermarkText{DRAFT}
\SetWatermarkScale{2}

\titleformat{\paragraph}
{\normalfont\normalsize\bfseries}{\theparagraph}{1em}{}
\titlespacing*{\paragraph}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}



\newcommand{\qg}{\u{g}}
\newcommand{\qG}{\u{G}}
\newcommand{\qc}{\c{c} }
\newcommand{\qC}{\c{C}}
\newcommand{\qs}{\c{s}}
\newcommand{\qS}{\c{S}}
\newcommand{\qu}{\"{u}}
\newcommand{\qU}{\"{U}}
\newcommand{\qo}{\"{o}}
\newcommand{\qO}{\"{O}}
\newcommand{\qI}{\.{I}}
\newcommand{\wa}{\^{a}}
\newcommand{\wA}{\^{A}}

\begin{document}

\linenumbers

\title{Proposal for a GraphBLAS C API\\ (\emph{\large Working document from the \emph{GraphBLAS} Signatures Subgroup})}
%\author{Ayd\i n Bulu\c{c}, Timothy Mattson, Scott McMillan, Jos\'e Moreira, Carl Yang}
\author{The GraphBLAS Forum}
\date{Generated on \today\ at \currenttime\ EDT}

\renewcommand{\vector}[1]{{\bf #1}}
\renewcommand{\matrix}[1]{{\bf #1}}
\renewcommand{\arg}[1]{{\sf #1}}
\newcommand{\zip}{{\mbox{zip}}}
\newcommand{\zap}{{\mbox{zap}}}
\newcommand{\ewiseadd}{{\mbox{\bf ewiseadd}}}
\newcommand{\ewisemult}{{\mbox{\bf ewisemult}}}
\newcommand{\mxm}{{\mbox{\bf mxm}}}
\newcommand{\vxm}{{\mbox{\bf vxm}}}
\newcommand{\mxv}{{\mbox{\bf mxv}}}
\newcommand{\gpit}[1]{{\sf #1}}
\newcommand{\ie}{\emph{i.e.}}
\newcommand{\eg}{\emph{e.g.}}
\newcommand{\nan}{{\sf NaN}}
\newcommand{\nil}{{\bf nil}}
\newcommand{\ifif}{{\bf if}}
\newcommand{\ifthen}{{\bf then}}
\newcommand{\ifelse}{{\bf else}}
\newcommand{\ifendif}{{\bf endif}}
\newcommand{\zero}{{\bf 0}}
\newcommand{\one}{{\bf 1}}
\newcommand{\true}{{\sf true}}
\newcommand{\false}{{\sf false}}

\newcommand{\aydin}[1]{{{\color{orange}[Aydin: #1]}}}
\newcommand{\scott}[1]{{{\color{violet}[Scott: #1]}}}
\newcommand{\tim}[1]{{{\color{teal}[Tim: #1]}}}
\newcommand{\jose}[1]{{{\color{red}[Jose: #1]}}}
\newcommand{\carl}[1]{{{\color{blue}[Carl: #1]}}}
\newcommand{\ajy}[1]{{{\color{brown}[Yzelman: #1]}}}

% AYDIN: Comment these out or remove them to bring back the "comments"
%\renewcommand{\aydin}[1]{{{\color{orange}}}}
%\renewcommand{\scott}[1]{{{\color{violet}}}}
%\renewcommand{\tim}[1]{{{\color{teal}}}}
%\renewcommand{\jose}[1]{{{\color{red}}}}
%\renewcommand{\carl}[1]{{{\color{blue}}}}
%\renewcommand{\ajy}[1]{{{\color{brown}}}}

\renewcommand{\comment}[1]{{}}
\newcommand{\glossBegin}{\begin{itemize}}
\newcommand{\glossItem}[1]{\item \emph{#1}: }
\newcommand{\glossEnd}{\end{itemize}}

\setlength{\parskip}{0.5\baselineskip}
\setlength{\parindent}{0ex}

\maketitle

\vfill


\comment{
\begin{center}
{\Large \copyright All Rights Reserved.}
\end{center}
}

Copyright \copyright 2016 Carnegie Mellon University, The Regents 
of the University of California, through Lawrence Berkeley National 
Laboratory (subject to receipt of any required approvals from the 
U.S. Dept. of Energy), the Regents of the University of California 
(U.C. Davis), Intel Corporation, and the IBM Corporation. 

Any opinions, findings and conclusions or recommendations expressed in 
this material are those of the author(s) and do not necessarily reflect 
the views of the United States Department of Defense, the United States 
Department of Energy, Carnegie Mellon University, the Regents of the 
University of California, Intel Corporation, or the IBM Corporation.  

NO WARRANTY. THIS MATERIAL IS FURNISHED ON AN AS-IS BASIS. THE COPYRIGHT 
OWNERS AND/OR AUTHORS MAKE NO WARRANTIES OF ANY KIND, EITHER EXPRESSED 
OR IMPLIED, AS TO ANY MATTER INCLUDING, BUT NOT LIMITED TO, WARRANTY OF 
FITNESS FOR PURPOSE OR MERCHANTABILITY, EXCLUSIVITY, OR RESULTS OBTAINED 
FROM USE OF THE MATERIAL. THE COPYRIGHT OWNERS AND/OR AUTHORS DO NOT MAKE 
ANY WARRANTY OF ANY KIND WITH RESPECT TO FREEDOM FROM PATENT, TRADE MARK, 
OR COPYRIGHT INFRINGEMENT.

\begin{center}
{\Large This material is for review purposes only.}
\end{center}

%[Distribution Statement A] This material has been approved for public release and unlimited distribution.  
%Please see Copyright notice for non-US Government use and distribution.

Except as otherwise noted, this material is licensed under a Creative Commons Attribution 4.0 license (\href{http://creativecommons.org/licenses/by/4.0/legalcode}{http://creativecommons.org/licenses/by/4.0/legalcode}), 
and examples are licensed under the BSD License (\href{https://opensource.org/licenses/BSD-3-Clause}{https://opensource.org/licenses/BSD-3-Clause}).

%\begin{abstract}
%\end{abstract}

\vfill

\pagebreak
\tableofcontents
\vfill
\pagebreak

%-----------------------------------------------------------------------------

\section*{Acknowledgments}
\addcontentsline{toc}{section}{Acknowledgments}

\scott{Done in the style of the MPI Acknowledgments}

This document represents the work of many people who have served on the C API
Subcommittee of the GraphBLAS Forum.

Those who served as C API Subcommittee members for GraphBLAS 1.0 are (in alphabetical order):
\begin{itemize}
\item Ayd\i n Bulu\c{c} (Lawrence Berkeley National Laboratory)
\item Timothy G. Mattson (Intel Corporation)
\item Scott McMillan (Software Engineering Institute at Carnegie Mellon University)
\item Jos\'e Moreira (IBM Corporation)
\item Carl Yang (UC Davis)
\end{itemize}

\comment{
\tim{I urge us to drop this list. To include everyone would be too 
long and to include a subset would offend those left off.  We don't need
this list here}.
The following list are the members of the GraphBLAS forum at large:
\begin{itemize}
\item John Gilbert, UCSB
\item Jeremy Kepner, MIT/LLSC
\item Manoj Kumar, IBM Corporation
\item Michael Wolf, Sandia National Laboratory
\item Albert Yzelman, Hauwei
\item Marcin Zalewski, Indiana University
\item \scott{Add many others (all folks on the big group calls?)}
\end{itemize}
}

\tim{we need to get final form text for this set of items}
The GraphBLAS 1.0 specification is based upon work funded and supported in part by:
\begin{itemize}
\item AGENCY under contract No. \#\#\#\#\#\#\# with ORGANIZATION.
\item the Department of Energy Office of Advanced Scientific Computing Research under contract number DE-AC02-05CH11231
\item placeholder for UC Davis?
\item placeholder for IBM
\item Intel Corporation
\item Department of Defense under Contract No. FA8721-05-C-0003 with Carnegie Mellon University. [DM-0003727]
\end{itemize}
\vfill
\pagebreak

%-----------------------------------------------------------------------------

%\carl{testing}
%\scott{testing}
%\aydin{testing}
%\tim{testing}
%\jose{testing}
%\ajy{testing}


\chapter{Introduction}

The GraphBLAS standard defines a set of matrix and vector operations 
over semi-ring algebraic structures.  These operations can be used
to express a wide range of graph algorithms.   This document 
defines the C-binding to the GraphBLAS standard.   We refer to 
this as the GraphBLAS C API (Application Programming Interface).   

The GraphBLAS C API is built on a collection of objects exposed to 
the C programmer as opaque data types. Functions that manipulate these
objects are referred to as {\it methods}.  These methods fully define the 
interface to GraphBLAS objects to create or destroy them, modify their 
contents, and copy the contents of opaque objects into non-opaque objects the 
contents of which are under direct control of the programmer.

The GraphBLAS C API is designed to work with C99 (ISO/IEC 9899:199) 
extended with {\it static type-based} and {\it number of parameters-based}
function polymorphism, and language extensions on par with 
the {\tt \_Generic} construct from C11 (ISO/IEC 9899:2011).  
Furthermore, the standard assumes programs using the GraphBLAS C API
will execute on hardware that supports IEEE~754 (IEEE 754-2008) 
floating point arithmetic.

The remainder of this document is organized as follows:
\begin{itemize}
\item Chapter 2: Basic Concepts
\item Chapter 3: Objects
\item Chapter 4: Methods
\item Appendix A: Examples
\end{itemize}

%-----------------------------------------------------------------------------

\input{basic_concepts}
\input{objects}

\chapter{Methods}
\label{Sec:Methods}

\input{algebra_methods}
\input{vector_matrix_methods}
\input{descriptor_methods}


%=============================================================================
%=============================================================================

\input{graphblas_operations}

\input{ops_buildmatrix_extracttuples}
\input{ops_mxm_vxm_mxv}
\input{ops_ewisemult_ewiseadd}
\input{ops_extract_assign}
\input{ops_apply_reduce_transpose}

\input{utility_methods}

%=============================================================================
%=============================================================================

\appendix
\input{appendices}

%\def\IEEEbibitemsep{3pt plus .5pt}
%\bibliographystyle{IEEEtran}
%\bibliography{refs}

\end{document}
