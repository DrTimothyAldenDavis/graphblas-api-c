\section{Algebra Methods}

All methods can be declared for use in programs by including the {\tt GraphBLAS.h} header file.

%-----------------------------------------------------------------------------

\subsection{{\sf UnaryFunction\_new}: Create a new unary operation}

Initializes a new GraphBLAS unary operation with specified domains and user-defined function.

\scott{Need to define GrB\_operation.  Should it be capital 'o'?}

\paragraph{C99 Syntax}

\begin{verbatim}
        GrB_info GrB_UnaryFunction_new(GrB_UnaryFunction *unary_op,
                                       GrB_Type           in_type,
                                       GrB_Type           out_type,
                                       GrB_operation      unary_func);
\end{verbatim}

\paragraph{Parameters}

\begin{itemize}[leftmargin=1.1in]
    \item[{\sf unary\_op}]      Pointer to the UnaryFunction object that is initialized by 
    this method.
    \item[{\sf in\_type}]        The {\sf GrB\_Type} defining the domain of input argument of
    the unary function. Should be one of the predefined
    GraphBLAS types in Table~\ref{Tab:PredefinedTypes}, or a user created type.
    \item[{\sf out\_type}]       The {\sf GrB\_Type} defining the output domain of the function
    being created.  Should be one of the predefined
    GraphBLAS types in Table~\ref{Tab:PredefinedTypes}, or a user created type.
    \item[{\sf unary\_func}]     a pointer to a user-defined function that takes one input 
    parameter of a type consistent with {\sf in\_type} and returns a value of type {\sf out\_arg}.
\end{itemize}


\paragraph{Return Values}

\begin{itemize}[leftmargin=2.1in]
\item[{\sf GrB\_SUCCESS}]           operation completed successfully.
\item[{\sf GrB\_PANIC}]             unknown internal error.
\item[{\sf GrB\_OUTOFMEM}]          not enough memory available for operation.
\item[{\sf GrB\_DOMAIN\_MISMATCH}]  the types in the function pointer signature are not   
                                    consistent with the {\sf GrB\_Type} parameters specified.
\end{itemize}

\paragraph{Description}

Creates a new GraphBLAS unary operation $f = \langle \bold{D}({\sf in\_type}), 
\bold{D}({\sf out\_type}), {\sf unary\_func} \rangle$ and returns its identifier 
in {\sf unary\_op}.

\scott{does it create a new one or initialize an empty one?}


%-----------------------------------------------------------------------------

\subsection{{\sf BinaryFunction\_new}: Create a new binary operation}

Initializes a new GraphBLAS binary operation with specified domains and user-defined function.

\paragraph{C99 Syntax}

\begin{verbatim}
        GrB_info GrB_BinaryFunction_new(GrB_BinaryFunction *binary_op,
                                        GrB_Type            larg_type,
                                        GrB_Type            rarg_type,
                                        GrB_Type            out_type,
                                        GrB_operation       binary_func);
\end{verbatim}

\paragraph{Parameters}

\begin{itemize}[leftmargin=1.1in]
    \item[{\sf binary\_op}]      Identifier of the newly created BinaryFunction.
    \item[{\sf larg\_type}]      The {\sf GrB\_Type} defining the domain of left hand argument of
    the binary function. Should be one of the predefined
    GraphBLAS types in Table~\ref{Tab:PredefinedTypes}, or a user created type.
    \item[{\sf rarg\_type}]      The {\sf GrB\_Type} defining the domain of the right hand 
    argument of the binary function. Should be one of the predefined
    GraphBLAS types in Table~\ref{Tab:PredefinedTypes}, or a user created type.
    \item[{\sf out\_type}]       The {\sf GrB\_Type} defining the output domain of the binary
    function. Should be one of the predefined
    GraphBLAS types in Table~\ref{Tab:PredefinedTypes}, or a user created type.
    \item[{\sf binary\_func}]    A pointer to a user-defined function that takes two input 
    parameters of types consistent with {\sf larg\_type} and {\sf rarg\_type} and returns a 
    value of type {\sf out\_arg}.
\end{itemize}


\paragraph{Return Values}

\begin{itemize}[leftmargin=2.1in]
\item[{\sf GrB\_SUCCESS}]           operation completed successfully.
\item[{\sf GrB\_PANIC}]             unknown internal error.
\item[{\sf GrB\_OUTOFMEM}]          not enough memory available for operation.
\item[{\sf GrB\_DOMAIN\_MISMATCH}]  the types in the function pointer signature are not   
                                    consistent with the {\sf GrB\_Type} parameters specified.
\end{itemize}

\paragraph{Description}

Creates a new GraphBLAS binary operation $f = \langle \bold{D}({\sf larg\_type}), 
\bold{D}({\sf rarg\_type}), \bold{D}({\sf out\_type}), {\sf binary\_func} \rangle$ and returns its identifier in {\sf binary\_op}.

\scott{does it create a new one or initialize an empty one?}


%-----------------------------------------------------------------------------

\subsection{{\sf Monoid\_new}: Create new monoid}

Creates a new monoid with specified domain, operations and identity element.

\paragraph{C99 Syntax}

\begin{verbatim}
        GrB_info GrB_Monoid_new(GrB_Monoid        *monoid,
                                GrB_Type           larg_type,
                                GrB_Type           rarg_type,
                                GrB_Type           out_type,
                                GrB_BinaryFunction binary_op,
                                <type_3>           identity);
\end{verbatim}

\paragraph{Parameters}

\begin{itemize}[leftmargin=1.1in]
    \item[{\sf monoid}]         Identifier of the newly created monoid.
    \item[{\sf larg\_type}]     The {\sf GrB\_Type} defining the first domain of the monoid 
    being created. It should be one of the predefined GraphBLAS types in
    Table~\ref{Tab:PredefinedTypes}, or a user created type.
    \item[{\sf rarg\_type}]     The {\sf GrB\_Type} defining the second domain of the monoid
    being created.  It should be one of the predefined GraphBLAS types in
    Table~\ref{Tab:PredefinedTypes}, or a user created type.
    \item[{\sf out\_type}]      The {\sf GrB\_Type} defining the third domain of the monoid 
    being created.  It should be one of the predefined GraphBLAS types in
    Table~\ref{Tab:PredefinedTypes}, or a user created type.
    \item[{\sf binary\_op}]     A GraphBLAS binary operation with inputs consistent
    with {\sf larg\_type} and {\sf rarg\_type} and returns a value of type {\sf out\_type}.
    \item[{\sf identity}]       The identity element of the monoid. 
    Must be of type corresponding to the value of {\sf out\_type} according to
    Table~\ref{Tab:PredefinedTypes}.
\end{itemize}

\paragraph{Return Values}

\begin{itemize}[leftmargin=2.1in]
\item[{\sf GrB\_SUCCESS}]           operation completed successfully.
\item[{\sf GrB\_PANIC}]             unknown internal error.
\item[{\sf GrB\_OUTOFMEM}]          not enough memory available for operation.
\item[{\sf GrB\_DOMAIN\_MISMATCH}]  the types in the function pointer signature are not   
                                    consistent with the {\sf GrB\_Type} parameters specified.
\end{itemize}

\paragraph{Description}

Creates a new monoid $M = \langle \bold{D}({\sf larg\_type}), \bold{D}({\sf rarg\_type}), 
\bold{D}({\sf out\_type}), {\sf binary\_op}, {\sf identity} \rangle$ and
returns its identifier in {\sf monoid}.


%-----------------------------------------------------------------------------
\subsection{{\sf Semiring\_new}: Create new semiring}

Creates a new semiring with specified domain, operations and elements.

\paragraph{C99 Syntax}

\begin{verbatim}
        GrB_info GrB_Semiring_new(GrB_Semiring      *semiring,
                                  GrB_Type           larg_type,
                                  GrB_Type           rarg_type,
                                  GrB_Type           out_type,
                                  GrB_BinaryFunction add_op,
                                  GrB_BinaryFunction mul_op,
                                  <type_3>           zero
                               [, <type_3>           one]);
\end{verbatim}

\paragraph{Parameters}

\begin{itemize}[leftmargin=1.1in]
    \item[{\sf semiring}]       Identifier of the newly created semiring.
    \item[{\sf larg\_type}]     The {\sf GrB\_Type} defining the domain of left hand argument of
    the semiring operation. Should be one of the predefined
    GraphBLAS types in Table~\ref{Tab:PredefinedTypes}, or a user created type.
    \item[{\sf rarg\_type}]     The {\sf GrB\_Type} defining the domain of the right hand 
    argument of the semiring operation. Should be one of the predefined
    GraphBLAS types in Table~\ref{Tab:PredefinedTypes}, or a user created type.
    \item[{\sf out\_type}]      The {\sf GrB\_Type} defining the output domain of the semiring
    operation. Should be one of the predefined
    GraphBLAS types in Table~\ref{Tab:PredefinedTypes}, or a user created type.
    \item[{\sf add\_op}]        the addition function pointer that takes two input parameters
    of types consistent with {\sf out\_type} and returns a type that is consistent with {\sf out\_type}.
    \item[{\sf mul\_op}]        the multiply function pointer that takes two input parameters
    of types consistent with {\sf larg\_type} and {\sf rarg\_type} and returns a type that is consistent with {\sf out\_type}.
    \item[{\sf zero}]           The identity element of the {\sf add\_op} function and the
    annihilator of the {\sf mul\_op} function.   Must be of type corresponding to the
    value of {\sf out\_type} according to Table~\ref{Tab:PredefinedTypes}.
    \item[{\sf one}]            (Optional) The identity element of the {\sf mul\_op} function. 
    Must be of type corresponding to the value of {\sf out\_type} according to
    Table~\ref{Tab:PredefinedTypes}.
\end{itemize}


\paragraph{Return Values}

\begin{itemize}[leftmargin=2.1in]
\item[{\sf GrB\_SUCCESS}]           operation completed successfully.
\item[{\sf GrB\_PANIC}]             unknown internal error.
\item[{\sf GrB\_OUTOFMEM}]          not enough memory available for operation.
\item[{\sf GrB\_DOMAIN\_MISMATCH}]  the types in the function pointer signature are not   
                                    consistent with the {\sf GrB\_Type} parameters specified.
\end{itemize}

\paragraph{Description}

Creates a new semiring $S = \langle \bold{D}({\sf larg\_type}), \bold{D}({\sf rarg\_type}), 
\bold{D}({\sf out\_type}), {\sf add\_op}, {\sf mul\_op}, {\sf zero}, {\sf one} \rangle$ and 
returns its identifier in {\sf semiring}.

