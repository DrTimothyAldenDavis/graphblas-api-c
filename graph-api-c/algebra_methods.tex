\section{Algebra Methods}
\label{Sec:AlgebraMethods}


%-----------------------------------------------------------------------------

\subsection{{\sf Type\_new}: Create a new user-defined type}

Creates a new user-defined GraphBLAS type. This type can then be used to create new
operator, monoids, semirings, vectors and matrices.

\paragraph{C99 Syntax}

\begin{verbatim}
        GrB_info GrB_Type_new(GrB_Type	 *utype,
                              <in_type>	  type);
\end{verbatim}

\paragraph{Parameters}

\begin{itemize}[leftmargin=1.1in]
	\item[{\sf utype}] 	Pointer to the {\sf GrB\_Type} object that will be initialized to the new user-defined type.
	\item[{\sf type}]	A C type that defines the new GraphBLAS user-defined type ({\sf in\_type}).
\end{itemize}

\paragraph{Return Values}

\begin{itemize}[leftmargin=2.1in]
\item[{\sf GrB\_SUCCESS}]           operation completed successfully.
\item[{\sf GrB\_PANIC}]             unknown internal error.
\item[{\sf GrB\_OUTOFMEM}]          not enough memory available for operation.
\end{itemize}

\paragraph{Description}
Give a C type {\sf type}, this method returns in {\sf utype} a new GraphBLAS type equivalent to that C type.
Variables of type {\sf type} must be a struct, union, or fixed-size array. In particular, given two variables
{\tt src} and {\tt dest} of type {\sf type}, the following operation must be a valid way to copy the contents of
{\tt src} to {\tt dest}:

\begin{center}
{\tt memcpy(\&dest, \&src, sizof({\sf type}))}
\end{center}

A new user-defined type {\sf utype} should be destroyed with a call to {\sf GrB\_free(utype)} when no longer needed.

\subsection{{\sf UnaryOp\_new}: Create a new unary operator}

Initializes a new GraphBLAS unary operation with specified domains and user-defined function.


\paragraph{C99 Syntax}

\begin{verbatim}
        GrB_info GrB_UnaryOp_new(GrB_UnaryOp *unary_op,
                                 GrB_Type     d1,
                                 GrB_Type     d2,
                                 void        *unary_func);
\end{verbatim}

\paragraph{Parameters}

\begin{itemize}[leftmargin=1.1in]
    \item[{\sf unary\_op}]      Identifier of the newly created UnaryOp.
    \item[{\sf d1}]        The {\sf GrB\_Type} defining the domain of input argument of
    the unary function. Should be one of the predefined
    GraphBLAS types in Table~\ref{Tab:PredefinedTypes}, or a user created type.
    \item[{\sf d2}]       The {\sf GrB\_Type} defining the output domain of the function
    being created.  Should be one of the predefined
    GraphBLAS types in Table~\ref{Tab:PredefinedTypes}, or a user created type.
    \item[{\sf unary\_func}]     a pointer to a user-defined function that takes one input 
    parameter of a type consistent with {\sf d1}'s domain and returns a value of type consistent with {\sf d2}'s domain.
\end{itemize}


\paragraph{Return Values}

\begin{itemize}[leftmargin=2.1in]
\item[{\sf GrB\_SUCCESS}]           operation completed successfully.
\item[{\sf GrB\_PANIC}]             unknown internal error.
\item[{\sf GrB\_OUTOFMEM}]          not enough memory available for operation.
\item[{\sf GrB\_DOMAIN\_MISMATCH}]  the types in the function pointer signature are not   
                                    consistent with the {\sf GrB\_Type} parameters specified.
\end{itemize}

\paragraph{Description}

Creates a new GraphBLAS unary operator $f = \langle \bold{D}({\sf in\_type}), 
\bold{D}({\sf d3}), {\sf unary\_func} \rangle$ and returns its identifier 
in {\sf unary\_op}.

%\scott{does it create a new one or initialize an empty one?}


%-----------------------------------------------------------------------------

\subsection{{\sf BinaryOp\_new}: Create a new binary operator}

Initializes a new GraphBLAS binary operator with specified domains and user-defined function.

\paragraph{C99 Syntax}

\begin{verbatim}
        GrB_info GrB_BinaryOp_new(GrB_BinaryOp *binary_op,
                                  GrB_Type      d1,
                                  GrB_Type      d2,
                                  GrB_Type      d3,
                                  void         *binary_func);
\end{verbatim}

\paragraph{Parameters}

\begin{itemize}[leftmargin=1.1in]
    \item[{\sf binary\_op}]      Identifier of the newly created BinaryOp.
    \item[{\sf d1}]      The {\sf GrB\_Type} defining the domain of left hand argument of
    the binary function. Should be one of the predefined
    GraphBLAS types in Table~\ref{Tab:PredefinedTypes}, or a user created type.
    \item[{\sf d2}]      The {\sf GrB\_Type} defining the domain of the right hand 
    argument of the binary function. Should be one of the predefined
    GraphBLAS types in Table~\ref{Tab:PredefinedTypes}, or a user created type.
    \item[{\sf d3}]       The {\sf GrB\_Type} defining the output domain of the binary
    function. Should be one of the predefined
    GraphBLAS types in Table~\ref{Tab:PredefinedTypes}, or a user created type.
    \item[{\sf binary\_func}]    A pointer to a user-defined function that takes two input 
    parameters of types consistent with {\sf d1} and {\sf d2} and returns a 
    value with the type consistent with {\sf d3}.
\end{itemize}


\paragraph{Return Values}

\begin{itemize}[leftmargin=2.1in]
\item[{\sf GrB\_SUCCESS}]           operation completed successfully.
\item[{\sf GrB\_PANIC}]             unknown internal error.
\item[{\sf GrB\_OUTOFMEM}]          not enough memory available for operation.
\item[{\sf GrB\_DOMAIN\_MISMATCH}]  the types in the function pointer signature are not   
                                    consistent with the {\sf GrB\_Type} parameters specified.
\end{itemize}

\paragraph{Description}

Creates a new GraphBLAS binary operator $f = \langle \bold{D}({\sf d1}), 
\bold{D}({\sf d2}), \bold{D}({\sf d3}), {\sf binary\_func} \rangle$ and returns its identifier in {\sf binary\_op}.

%\scott{does it create a new one or initialize an empty one?}


%-----------------------------------------------------------------------------

\subsection{{\sf Monoid\_new}: Create new monoid}

Creates a new monoid with specified domain, operator, and identity element.

\paragraph{C99 Syntax}

\begin{verbatim}
        GrB_info GrB_Monoid_new(GrB_Monoid    *monoid,
                                GrB_Type       d1,
                                GrB_BinaryOp   binary_op,
                                <d1_type>      identity);
\end{verbatim}

\paragraph{Parameters}

\begin{itemize}[leftmargin=1.1in]
    \item[{\sf monoid}]         Identifier of the newly created monoid.
    \item[{\sf d1}]     The {\sf GrB\_Type} defining the domain of the monoid 
    being created. It should be one of the predefined GraphBLAS types in
    Table~\ref{Tab:PredefinedTypes}, or a user created type.
    \item[{\sf binary\_op}]     A GraphBLAS binary operator with inputs consistent
    with {\sf d1} that returns a value of type {\sf d1}.
    \item[{\sf identity}]       The identity element of the monoid. 
    Must be of type corresponding to the value of {\sf d1} according to
    Table~\ref{Tab:PredefinedTypes}.
\end{itemize}

\paragraph{Return Values}

\begin{itemize}[leftmargin=2.1in]
\item[{\sf GrB\_SUCCESS}]           operation completed successfully.
\item[{\sf GrB\_PANIC}]             unknown internal error.
\item[{\sf GrB\_OUTOFMEM}]          not enough memory available for this method to complete.
\item[{\sf GrB\_DOMAIN\_MISMATCH}]  the types in the operator signature are not   
                                    consistent with the {\sf GrB\_Type} parameters specified.
\end{itemize}

\paragraph{Description}

Creates a new monoid $M = \langle \bold{D}({\sf d1}), 
{\sf binary\_op}, {\sf identity} \rangle$ and
returns its identifier in {\sf monoid}.


%-----------------------------------------------------------------------------
\subsection{{\sf Semiring\_new}: Create new semiring}

Creates a new semiring with specified domain, operators, and elements.

\paragraph{C99 Syntax}

\begin{verbatim}
        GrB_info GrB_Semiring_new(GrB_Semiring  *semiring,
                                  GrB_Type       d1,
                                  GrB_Type       d2,
                                  GrB_Type       d3,
                                  GrB_BinaryOp   add_op,
                                  GrB_BinaryOp   mul_op,
                                  <d3_type>      zero
                               [, <d3_type>      one]);
\end{verbatim}

\paragraph{Parameters}

\begin{itemize}[leftmargin=1.1in]
    \item[{\sf semiring}]       Identifier of the newly created semiring.
    \item[{\sf d1}]     The {\sf GrB\_Type} defining the domain of left hand argument of
    the semiring operation. Should be one of the predefined
    GraphBLAS types in Table~\ref{Tab:PredefinedTypes}, or a user created type.
    \item[{\sf d2}]     The {\sf GrB\_Type} defining the domain of the right hand 
    argument of the semiring operation. Should be one of the predefined
    GraphBLAS types in Table~\ref{Tab:PredefinedTypes}, or a user created type.
    \item[{\sf d3}]      The {\sf GrB\_Type} defining the output domain of the semiring
    operation. Should be one of the predefined
    GraphBLAS types in Table~\ref{Tab:PredefinedTypes}, or a user created type.
    \item[{\sf add\_op}]        the addition operator that takes two input parameters
    of types consistent with {\sf d3} and returns a type that is consistent with {\sf d3}.
    \item[{\sf mul\_op}]        the multiply operator that takes two input parameters
    of types consistent with {\sf d1} and {\sf d2} and returns a type that is consistent with {\sf d3}.
    \item[{\sf zero}]           The identity element of the {\sf add\_op} operator and the
    annihilator of the {\sf mul\_op} function.   Must be of type corresponding to the
    value of {\sf d3} according to Table~\ref{Tab:PredefinedTypes}.
    \item[{\sf one}]            (Optional) The identity element of the {\sf mul\_op} operator. 
    Must be of type corresponding to the value of {\sf d3} according to
    Table~\ref{Tab:PredefinedTypes}.
\end{itemize}


\paragraph{Return Values}

\begin{itemize}[leftmargin=2.1in]
\item[{\sf GrB\_SUCCESS}]           operation completed successfully.
\item[{\sf GrB\_PANIC}]             unknown internal error.
\item[{\sf GrB\_OUTOFMEM}]          not enough memory available for this method to complete.
\item[{\sf GrB\_DOMAIN\_MISMATCH}]  the types in the operator signature are not   
                                    consistent with the {\sf GrB\_Type} parameters specified.
\end{itemize}

\paragraph{Description}

Creates a new semiring $S = \langle \bold{D}({\sf d1}), \bold{D}({\sf d2}), 
\bold{D}({\sf d3}), {\sf add\_op}, {\sf mul\_op}, {\sf zero}, {\sf one} \rangle$ and 
returns its identifier in {\sf semiring}.

