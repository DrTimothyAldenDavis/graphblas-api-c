\section{Sequence Termination}

\subsection{{\sf wait}: Wait for pending operations to complete}
\label{Sec:GrB_wait}

\comment{
Waits for a collection of pending operations to complete. Two variants are supported, one that
waits on all pending operations and one that waits on pending operations with a particular output object.

%-----------------------------------------------------------------------------
\subsubsection{{\sf wait}: Waits until all pending operations complete variant}
\label{Sec:GrB_wait}

When running in non-blocking mode, this function guarantees that all pending GraphBLAS operations are fully executed.  Note that this can be called in blocking mode without an error, but there should be no pending GraphBLAS operations to complete.

\paragraph{\syntax}

\begin{verbatim}
        GrB_Info GrB_wait();
\end{verbatim}

\paragraph{Parameters}

\paragraph{Return values}

\begin{itemize}[leftmargin=2.3in]
	\item[{\sf GrB\_SUCCESS}]	operation completed successfully.
	\item[{\sf GrB\_INDEX\_OUT\_OF\_BOUNDS}]	an index out-of-bounds execution error happened during completion of pending operations.
	\item[{\sf GrB\_OUT\_OF\_MEMORY}]		and out-of-memory execution error happened during completion of pending operations.
	\item[{\sf GrB\_PANIC}]		unknown internal error.
\end{itemize}

\paragraph{Description}

Upon successful return, all previously called GraphBLAS methods have fully
completed their execution, and any (transparent or opaque) data structures
produced or manipulated by those methods can be safely touched.  If an
error occured in any pending GraphBLAS operations, {\sf GrB\_error()}
can be used to retrieve implementation defined error information about
the problem encountered.

If {\sf GrB\_wait} returns with an execution error other than {\sf
GrB\_PANIC}, it is guaranteed that no argument used as input-only
through the entire sequence has been modified.  Any output argument
in the sequence may be left in an invalid state and its use downstream
in the program flow may cause additional errors. If a {\sf GrB\_wait}
call returns with a {\sf GrB\_PANIC}, no guarantees can be made about
the state of any program data.

%-----------------------------------------------------------------------------
\subsubsection{{\sf wait}: Waits until pending operations on a specific object complete variant}
\label{Sec:GrB_waitOne}
}

When running in non-blocking mode, this function guarantees that all
pending GraphBLAS operations that have a specific GraphBLAS object as
output are complete.  Note that this can be called in blocking mode
without an error, but there should be no pending GraphBLAS operations
to complete.

\paragraph{\syntax}

\begin{verbatim}
        GrB_Info GrB_wait(GrB_Object obj);
\end{verbatim}

\paragraph{Parameters}

\begin{itemize}[leftmargin=1.1in]
        \item[{\sf obj}] ({\sf INOUT}) An existing GraphBLAS object.
        The object must have been created by an explicit call to a
        GraphBLAS constructor.  Can be any of the opaque GraphBLAS
        objects such as matrix, vector, descriptor, semiring, monoid,
        binary op, unary op, or type. On successful return of {\sf
        GrB\_wait}, all GraphBLAS operations that produce {\sf obj}
        as output have fully completed.
\end{itemize}

\paragraph{Return values}
\begin{itemize}[leftmargin=2.3in]
	\item[{\sf GrB\_SUCCESS}]			operation completed successfully.
	\item[{\sf GrB\_INDEX\_OUT\_OF\_BOUNDS}]	an index out-of-bounds execution error happened during completion of pending operations.
	\item[{\sf GrB\_OUT\_OF\_MEMORY}]		and out-of-memory execution error happened during completion of pending operations.
	\item[{\sf GrB\_UNINITIALIZED\_OBJECT}]		object has not been initialized by a call to the respective {\sf *\_new} method.
	\item[{\sf GrB\_PANIC}]				unknown internal error.
\end{itemize}

\paragraph{Description}

Upon successful return, all previously called GraphBLAS methods that
have {\sf obj} as an {\sf OUT} or {\sf INOUT} parameter have fully
completed their execution.
If an
error occured in any of those GraphBLAS operations, {\sf GrB\_error()}
can be used to retrieve implementation defined error information about
the problem encountered.

If {\sf GrB\_wait} returns with an execution error other than {\sf
GrB\_PANIC}, it is guaranteed that no argument used as input-only in the
methods mentioned above has been modified by those methods. The object
{\sf obj} may be left in an invalid state and its use downstream in
the program flow may cause additional errors. If a {\sf GrB\_wait}
call returns with a {\sf GrB\_PANIC}, no guarantees can be made about
the state of any program data.

In non-blocking mode, a call to {\sf GrB\_wait(obj)} does not complete
any pending methods other than the ones mentioned above.
If there are other pending methods
in the program execution, producing other objects, there is no guarantee that
those methods have completed. Those methods can still produce errors
and/or consume execution time.

%-----------------------------------------------------------------------------
\subsection{{\sf error}: Get an error message regarding internal errors}
\label{Sec:GrB_error}

\begin{verbatim}
        GrB_Info GrB_error(const char          **error,
                           const GrB_Object      obj);
\end{verbatim}

\paragraph{Parameters}

\begin{itemize}[leftmargin=1.1in]
	\item[{\sf error}] ({\sf OUT}) A pointer to a null-terminated
		string. The contents of the string are implementation
		defined.

        \item[{\sf obj}] ({\sf IN}) An existing GraphBLAS object.
        The object must have been created by an explicit call to a
        GraphBLAS constructor.  Can be any of the opaque GraphBLAS
        objects such as matrix, vector, descriptor, semiring, monoid,
        binary op, unary op, or type. On successful return of {\sf
        GrB\_wait}, all GraphBLAS operations that produce {\sf obj}
        as output have fully completed.
\end{itemize}


\paragraph{Return value}
\begin{itemize}[leftmargin=2.3in]
	\item[{\sf GrB\_SUCCESS}]			operation completed successfully.
	\item[{\sf GrB\_UNINITIALIZED\_OBJECT}]		object has not been initialized by a call to the respective {\sf *\_new} method.
	\item[{\sf GrB\_PANIC}]				unknown internal error.
\end{itemize}

\paragraph{Description}

\scott{Copied from Basic Concepts}

At any point during execution, the program can retrieve additional
error information on an object through a
call to the function {\sf GrB\_error()}. 
The function returns a pointer to a null terminated string and the contents of that string
are implementation dependent. In particular, a null string (not a {\sf NULL} pointer) is always a valid error string.
